(this["webpackJsonptodo-list-apuntes"]=this["webpackJsonptodo-list-apuntes"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),r=n(4),a=n.n(r),s=(n(12),n(13),n(14),n(0));function l(e){var t=e.completedTodos,n=e.totalTodosPROP,o=e.loading;return Object(s.jsxs)("h2",{className:"title ".concat(o&&"title--loading"),children:["Has completado ",t," de ",n," TODOs"]})}n(16);function i(e){var t=e.children,n=e.error,o=e.loading,c=e.searchedToDos,r=e.totalTodosPROP,a=e.searchedText,l=e.onError,i=e.onLoading,d=e.onEmpty,u=e.onEmptySearchResults,j=e.render,b=t||j;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("section",{className:"TodoList-container",children:[n&&l(),o&&i(),!o&&!r&&d(),!!r&&!(null===c||void 0===c?void 0:c.length)&&u(a),Object(s.jsx)("ul",{className:"list",children:c.map((function(e){return b(e)}))})]})})}n(17);function d(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{className:"todoItem",children:[Object(s.jsx)("span",{onClick:e.onComplete,className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),children:"\u2714\ufe0f"}),Object(s.jsx)("p",{className:"todoItem-p ".concat(e.completed&&"todoItem-p--completed"),children:e.text}),Object(s.jsx)("span",{onClick:e.onDelete,className:"Icon Icon-delete",children:"\u274c"})]})})}n(18);function u(e){var t=e.setOpenModal;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{onClick:function(){t((function(e){return!e}))},className:"add-todo",children:"+"})})}n(19);function j(e){var t=e.search,n=e.setSearch,o=e.loading;return Object(s.jsx)("div",{className:"todoSearch",children:Object(s.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",className:"todoSearch__input",placeholder:"Buscar ToDo",value:t,disabled:o})})}var b=n(6),O=n(2);function m(){var e=function(e,t){var n=Object(o.useState)(t),c=Object(O.a)(n,2),r=c[0],a=c[1],s=Object(o.useState)(!0),l=Object(O.a)(s,2),i=l[0],d=l[1],u=Object(o.useState)(!1),j=Object(O.a)(u,2),b=j[0],m=j[1],h=Object(o.useState)(!0),f=Object(O.a)(h,2),x=f[0],p=f[1];return Object(o.useEffect)((function(){setTimeout((function(){try{var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),a(n),d(!1),p(!0)}catch(b){m(b),console.error()}}),500)}),[x]),{item:r,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),a(t)}catch(b){m(b),console.error()}},loading:i,error:b,syncBrowsertab:function(){d(!0),p(!1)}}}("TODOS_V1",[]),t=e.item,n=e.saveItem,c=e.loading,r=e.error,a=e.syncBrowsertab,s=Object(o.useState)(""),l=Object(O.a)(s,2),i=l[0],d=l[1],u=Object(o.useState)(!1),j=Object(O.a)(u,2),m=j[0],h=j[1],f=t.filter((function(e){return!0===e.completed})).length,x=t.length,p=[];p=i.length>=1?t.filter((function(e){var t=e.text.toLowerCase(),n=i.toLowerCase();return t.includes(n)})):t;return{loading:c,errorPROP:r,totalTodosPROP:x,completedTodos:f,search:i,setSearch:d,searchedToDos:p,completeToDo:function(e){var o=t.findIndex((function(t){return t.text===e})),c=Object(b.a)(t);c[o].completed=!0,n(c)},deleteTodo:function(e){var o=t.findIndex((function(t){return t.text===e})),c=Object(b.a)(t);c.splice(o,1),n(c)},addToDo:function(e){var o=Object(b.a)(t);o.push({completed:!1,text:e}),n(o)},openModal:m,setOpenModal:h,syncBrowsertab:a}}function h(e){var t=e.children,n=e.loading,o=c.a.Children.toArray(t);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("header",{children:o.map((function(e){return c.a.cloneElement(e,{loading:n})}))})})}n(20);function f(e){var t=e.children;return a.a.createPortal(Object(s.jsxs)("div",{className:"modal",children:[" ",t," "]}),document.getElementById("modal"))}n(21);function x(e){var t=e.addToDo,n=e.setOpenModal,c=Object(o.useState)(""),r=Object(O.a)(c,2),a=r[0],l=r[1];return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),n(!1)},className:"form",children:[Object(s.jsxs)("label",{className:"form__label",children:["Escribe un nuevo TODO",Object(s.jsx)("textarea",{value:a,onChange:function(e){var t=e.target.value;l(t)},className:"form__textarea",placeholder:"\xa1Crea un nuevo TODO!",required:!0,maxLength:"33"})]}),Object(s.jsxs)("div",{className:"form__button-area",children:[Object(s.jsx)("button",{className:"form__button form__cancel-button",type:"button",onClick:function(){n(!1)},children:"Cancelar"}),Object(s.jsx)("button",{className:"form__button form__add-button",type:"submit",children:"Agregar"})]})]})}n(22);function p(){return Object(s.jsx)("div",{className:"loader"})}function g(){return Object(s.jsx)("p",{children:" Crea tu primer ToDo "})}function v(){return Object(s.jsx)("p",{children:" Hubo un error "})}n(23);var T,S=(T=function(e){var t=e.show,n=e.toggleShow;return t?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"subcontainer",children:[Object(s.jsxs)("h3",{className:"message",children:["Your list is ",Object(s.jsx)("span",{children:"outdated"})," ."]}),Object(s.jsx)("button",{className:"btn",onClick:function(){return n(!1)},children:"Refresh"})]})})}):null},function(e){var t=Object(o.useState)(!1),n=Object(O.a)(t,2),c=n[0],r=n[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en ".concat(e.key)),r(!0))})),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(T,{show:c,toggleShow:function(){e.syncBrowsertab(),r(!1)}})})}),N=n(26);function y(e){var t=e.searchedText;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("h4",{style:{textAlign:"center"},children:['No hay resultados para "',t,'"']})})}var D=function(){var e=m(),t=e.loading,n=e.errorPROP,o=e.searchedToDos,c=e.completeToDo,r=e.deleteTodo,a=e.addToDo,b=e.openModal,O=e.setOpenModal,T=e.search,D=e.setSearch,_=e.totalTodosPROP,I=e.completedTodos,P=e.syncBrowsertab;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(h,{loading:t,children:[Object(s.jsx)(l,{totalTodosPROP:_,completedTodos:I}),Object(s.jsx)(j,{search:T,setSearch:D})]}),Object(s.jsx)(S,{syncBrowsertab:P}),Object(s.jsx)(i,{error:n,loading:t,searchedToDos:o,totalTodosPROP:_,searchedText:T,onError:function(){return Object(s.jsx)(v,{})},onLoading:function(){return Object(s.jsx)(p,{})},onEmpty:function(){return Object(s.jsx)(g,{})},onEmptySearchResults:function(e){return Object(s.jsx)(y,{searchedText:e})},render:function(e){return Object(s.jsx)(d,{text:e.text,completed:e.completed,onComplete:function(){return c(e.text)},onDelete:function(){return r(e.text)}},Object(N.a)())},children:function(e){return Object(s.jsx)(d,{number:Object(N.a)(),text:e.text,completed:e.completed,onComplete:function(){return c(e.text)},onDelete:function(){return r(e.text)}},Object(N.a)())}}),b&&Object(s.jsx)(f,{children:Object(s.jsx)(x,{addToDo:a,setOpenModal:O})}),Object(s.jsx)(u,{setOpenModal:O})]})};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(D,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.1e1376dc.chunk.js.map